---
title: "MS_Imp_Guidelines"
output: html_document
date: '2022-07-21'
---

We considered prior literature on modelling practice, our own professional experience and the needs of our project, to identify three core ethical responsibilities of CHEM developers, three attributes of CHEMs that enable fulfilment of these responsibilities and six criteria (two for each model attribute) for assessing ethical CHEM implementations. 

## Ethical responsibilities of CHEM developers 
We believe that health economists have ethical responsibilities relating to the social acceptability, adequacy for purpose and beneficial impact of their computational models.

Misalignment between the values of model developers and those of the population groups affected by decisions based on their models presents significant ethical risks [@thompson2022escape; @duckett2022journey]. The value judgments of model developers influence the assumptions, selection of model features and standards for evidence that shape the CHEM development process [@HARVARD2020112975]. These value judgments are rarely made explicit, omissions that may lead to socially unacceptable policy recommendations [@duckett2022journey]. For example, to reduce the risk of inequitable policy implementation, it may be important for of a model to predict the benefits of harms of an intervention for different sub-populations [@10.3389/fpubh.2017.00068], but model developers may prefer to allocate a project budget to implementing other model features [@thompson2022escape].

Health economists have duties both to take sufficient care that a CHEM is adequate for the explicit purpose for which it was developed and to provide potential third party users with the means of assessing its adequacy for their proposed purposes [@Erdemir2020; @Feenstra2022; @thompson2019escape; @10.3389/fpubh.2017.00068]. However, it is common for CHEMs to have serious methodological flaws [@carletto_zanuzzi_sammarco_russo_2020; @WONDER2015467]; insufficient validation [@Ghabri2019; @kolovos2017model; @haji2013model], poor reproducibility [@Jalali2021; @McManus2019; @Bermejo2017]; and undeclared errors [@Radeva2020]. 

Even an acceptable and adequate CHEM will have limited beneficial impact if it not much used, if it is mis-used or when its acceptability and adequacy rapidly decay. The scientific goals of generalisability (application without adaptation) and transferability (selective reuse and/or modification of model components) [@RN39] are advanced when models are appropriately reused in new contexts. Reuse of models as components of other models can also make model implementation more efficient [@Arnold2010; @garcia2021cost].

Common barriers to model re-use include commercial and legal considerations [@Feenstra2022; @Pouwels2022], as well as challenges related to model transferability across jurisdictions [@garcia2021cost]. The temporal window for valid application of CHEMs is often limited by implementation choices that rarely facilitate routine updates [@Sampson2017]. Without ongoing maintenance, a model may become less reliable with time [@garcia2021cost], deterioration that model users may be unaware of, and has a growing risk of being deployed for purposes for which it is poorly suited [@calder2018computational].

##	Criteria for assessing ethical CHEM implementation
The acceptability, adequacy and public benefit responsibilities for CHEM developers are easier to state than to measure.  It may therefore be pragmatic for assessment criteria for ethical modelling practice to instead be based on measurable attributes of the models themselves. As described in Table \@ref(tab:timelygls),  we believe that implementing CHEMs that are transparent, reusable and updatable (TRU) can enable modellers to meet their ethical obligations. We therefore selected these model attributes to use as the basis for deriving ethical assessment criteria.

```{r, child = child_docs_ls$one, echo=FALSE}
```

Transparency has been recommended as a core criterion for assessing ethical public health modelling practice [@10.3389/fpubh.2017.00068]. Guidance on transparency in health economic modelling recommended that model code and data should be clearly documented, potentially with different versions for technical and non-technical users [@Eddy2012]. Notably, the same guidelines, published over ten years ago, did not include recommendations on sharing model code and data. However, more recent guidance recommends publicly dissemination of healthcare model artefacts using online repository services [@Erdemir2020]. Repositories such as Zenodo [@Zenodo2013] and Dataverse [@Dataverse2007] provide persistent storage solutions that generate a Digital Object Identifier (DOI) for each code and data collection. An essential component of quality assuring health economic models is verification - ensuring that calculations are correct and consistent with model specifications [@techver2019]. The extensiveness of verification checks in models implemented as software projects can be reported using the concept of code coverage [@ERICWONG2010188] - the proportion of model code that has been explicitly tested. Tests should ideally combine both unit tests (to verify that small, isolated sections of code produce the correct output when run independently) and acceptance tests (to verify that the correct output is produced when multiple code components are run together to perform tasks that meet core user-requirements [@martin2003agile]). The nature and extent of individual model authorship contributions can become unclear when models are implemented over longer time-frames with a large and changing group of collaborators [@thompson2022escape]. This issue can be addressed by use of online repository services such as GitHub [@github2007], that provide citation tools and can transparently record all individual code contributions to a modelling project over its lifecycle.

Assessment criteria for a transparent CHEM:

-	T1: All model code, non-confidential data and testing procedures and outcomes are available in open access repositories.

-	T2: It is easy to see who developed and tested each part of the model and to identify the modelling team’s assumptions, judgments and theories about model development and use.

Making a CHEM’s code, data and documentation publicly available is helpful but insufficient for promoting model re-use. The choices that CHEM developers make about model implementation and licensing will also shape who can use a model and for what purposes. Using open-source development platforms and licenses can aid both generalizability and transferability. Compared to using commercial modelling software, authoring CHEMs in an open-source language like R [@RCORE2022] makes it easier to store model algorithms and data in distinct files and locations (as opposed to hard coding - embedding data such as parameter values into source code) which facilitates selective modification of model components. This benefit can be further enhanced if model developers adopt a modular approach, in which a model is constructed from multiple reusable and replaceable sub-models (modules) [@pan2021modular]. To grant permissions to others to use, test and adapt models and their components, health economists can avail of two broad categories of open source licensing options. Some guidance strongly recommends the use of permissive licensing [@Wilson_2017] that provides users with great flexibility as to the purposes (including commercial) for which content can be re-used. An alternative approach is to use copyleft licenses [@copyleft2022] that can require content users to distribute any derivative works they create under similar open-source arrangements. 

Assessment criteria for a reusable CHEM:

-	R1: Model code and data are implemented to facilitate both generalizability and transferability.

-	R2: Terms of use allow anyone to reuse model code and non-confidential data, in whole or in part, without charge, and for purposes that include the creation of derivative works.

To remain valid for longer, models should be continually updated and refined as new evidence emerges and healthcare systems evolve [@Jenkins2021; @@garcia2021cost]. Ensuring that a model is regular reviewed to identify and implement required improvements is a receommended defence against model validity decay [@calder2018computational]. Key enablers of sustainable maintenance of open source research software are committed, adequately resourced core development team and active user community [@info:doi/10.2196/20028]. Currently, the core development team for a CHEM will be typically be funded to produce a project end-point deliverable whose specifications are well defined early in the project. For more complex and multi-purpose CHEMs, particularly those designed to be incorporated into decision support systems, it may be better for development teams to adopt Agile Software Development [@beck2001manifesto], an approach that has been recommended for complex public health software projects [@10.3389/fpubh.2022.899874]. An Agile model will be less clearly specified in the initial project plan, but will instead continually develop in response to the requirements and feedback of users, who are provided with an initial, simplified working version of the model at the earliest feasible opportunity. Online communities can be an efficient means of engaging model users in testing each version of a model, identifying issues and suggesting improvements. Services such as GitHub [@github2007] provide collaborative code development tools [@MERGEL2015464] that help elicit, integrate and reconcile contributions from multiple contributors and to ensure each update is uniquely identifiable and retrievable. It is important that verification checks are rerun with each model update, a task that can be automated using the software development practice of Continuous Integration [@CI2017].  The risk of model revisions having unintended consequences for third party users can be mitigated through the use of deprecation conventions [@zhou2016api] that take an informative and staged approach to retiring outdated model code and data.

Assessment criteria for an updatable CHEM:

-	U1: Resources and infrastructure are in place to support sustained development, testing, maintenance and version control of a model in collaboration with model users.

-	U2: Each new release of a model is retested, with changes implemented to minimize disruptions for existing model users.
